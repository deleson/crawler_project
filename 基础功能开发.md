ä»¥ä¸‹æ˜¯é’ˆå¯¹äº¬ä¸œä»·æ ¼ç›‘æ§çš„é›¶åŸºç¡€å­¦ä¹ è·¯å¾„ï¼Œæ¯ä¸ªé˜¶æ®µéƒ½åŒ…å«å¿…å¤‡çŸ¥è¯†ç‚¹å’Œå¯¹åº”çš„å­¦ä¹ èµ„æºæ¨èï¼Œæœ€åé™„ä¸Šå¯¹åº”å¼€å‘æ­¥éª¤çš„ç›®æ ‡è¯´æ˜ï¼š

---

### **ğŸ“š é›¶åŸºç¡€å­¦ä¹ è·¯çº¿ï¼ˆæ€»è€—æ—¶çº¦2å‘¨ï¼‰**

#### **1. PythonåŸºç¡€å…¥é—¨ï¼ˆ3-5å¤©ï¼‰**
**ç›®æ ‡**ï¼šèƒ½ç¼–å†™ç®€å•è„šæœ¬å¤„ç†æ•°æ®  
**å¿…å­¦å†…å®¹**ï¼š
- å˜é‡ä¸æ•°æ®ç±»å‹
- æ¡ä»¶åˆ¤æ–­ä¸å¾ªç¯
- å‡½æ•°å®šä¹‰ä¸è°ƒç”¨
- æ–‡ä»¶è¯»å†™æ“ä½œ
- å¼‚å¸¸å¤„ç†ï¼ˆtry/exceptï¼‰

**é‡ç‚¹ç»ƒä¹ **ï¼š
```python
# ä»·æ ¼è®¡ç®—å™¨ç¤ºä¾‹
def price_alert(current, average):
    if current < average * 0.9:
        return "ä»·æ ¼å¼‚å¸¸ä¸‹è·Œï¼"
    elif current > average * 1.1:
        return "ä»·æ ¼å¼‚å¸¸ä¸Šæ¶¨ï¼"
    else:
        return "ä»·æ ¼æ­£å¸¸"

print(price_alert(100, 90))
```

**å­¦ä¹ èµ„æº**ï¼š
- å®˜æ–¹æ–‡æ¡£ï¼š[Python Tutorial](https://docs.python.org/3/tutorial/)
- è§†é¢‘è¯¾ç¨‹ï¼š[å»–é›ªå³°Pythonæ•™ç¨‹](https://www.liaoxuefeng.com/wiki/1016959663602400)

---

#### **2. HTTPä¸ç½‘é¡µåŸºç¡€ï¼ˆ1-2å¤©ï¼‰**
**ç›®æ ‡**ï¼šç†è§£ç½‘é¡µæ•°æ®è·å–åŸç†  
**æ ¸å¿ƒæ¦‚å¿µ**ï¼š
- HTTPè¯·æ±‚ï¼ˆGET/POSTï¼‰
- è¯·æ±‚å¤´ï¼ˆUser-Agent/Cookieï¼‰
- HTMLç»“æ„è§£æ
- CSSé€‰æ‹©å™¨åŸºç¡€

**å®è·µå·¥å…·**ï¼š
- æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰
  - å®šä½äº¬ä¸œä»·æ ¼å…ƒç´ ï¼š`<div class="price J-p-10012345">`
  - æŸ¥çœ‹ç½‘ç»œè¯·æ±‚ï¼ˆXHRè¿‡æ»¤ï¼‰

---

#### **3. Requests-HTMLåº“ï¼ˆ1å¤©ï¼‰**
**ç›®æ ‡**ï¼šæŠ“å–åŠ¨æ€æ¸²æŸ“é¡µé¢  
**å…³é”®ä»£ç **ï¼š
```python
from requests_html import HTMLSession

session = HTMLSession()
resp = session.get('https://item.jd.com/10012345.html')
resp.html.render(timeout=20)  # æ‰§è¡ŒJavaScript

# å®šä½äº¬ä¸œä»·æ ¼
price = resp.html.find('span.price', first=True).text
```

**å­¦ä¹ é‡ç‚¹**ï¼š
- `render()`æ–¹æ³•çš„å‚æ•°è°ƒèŠ‚
- CSSé€‰æ‹©å™¨è°ƒè¯•æŠ€å·§
- å¼‚æ­¥åŠ è½½æ•°æ®å¤„ç†

---

#### **4. æ•°æ®å­˜å‚¨ï¼ˆSQLiteï¼Œ1å¤©ï¼‰**
**ç›®æ ‡**ï¼šæŒä¹…åŒ–å­˜å‚¨ä»·æ ¼æ•°æ®  
**æ“ä½œæ¨¡æ¿**ï¼š
```python
import sqlite3

# åˆ›å»ºæ•°æ®åº“
conn = sqlite3.connect('jd_prices.db')
c = conn.cursor()

# å»ºè¡¨è¯­å¥ï¼ˆäº¬ä¸œå•†å“ï¼‰
c.execute('''CREATE TABLE IF NOT EXISTS jd_products
           (sku_id TEXT PRIMARY KEY,
            title TEXT,
            price REAL,
            timestamp DATETIME)''')

# æ’å…¥æ•°æ®
c.execute("INSERT INTO jd_products VALUES (?,?,?,?)", 
          ('10012345', 'iPhone15', 5999.0, '2024-03-15 14:00:00'))
conn.commit()
```

---

#### **5. åçˆ¬è™«åŸºç¡€ï¼ˆ1å¤©ï¼‰**
**äº¬ä¸œç‰¹éœ€é˜²æŠ¤æªæ–½**ï¼š
```python
import random
import time
from fake_useragent import UserAgent

ua = UserAgent()

# äº¬ä¸œä¸“ç”¨è¯·æ±‚å¤´æ¨¡æ¿
headers = {
    'User-Agent': ua.random,
    'Referer': 'https://www.jd.com/',
    'Accept-Language': 'zh-CN,zh;q=0.9',
    'Connection': 'keep-alive'
}

# æ™ºèƒ½å»¶è¿Ÿï¼ˆäº¬ä¸œåçˆ¬æ•æ„Ÿï¼‰
def jd_delay():
    time.sleep(random.uniform(1.5, 3.5))
```

---

### **ğŸ” äº¬ä¸œä»·æ ¼ç›‘æ§å¼€å‘æ­¥éª¤**

#### **æ­¥éª¤1ï¼šç¡®å®šç›‘æ§å•†å“**
**ç›®æ ‡**ï¼šè·å–æœ‰æ•ˆçš„å•†å“ID  
**æ“ä½œ**ï¼š
1. æ‰“å¼€äº¬ä¸œå•†å“é¡µï¼ˆå¦‚ï¼šhttps://item.jd.com/10012345.htmlï¼‰
2. ä»URLæå–SKU IDï¼ˆ10012345ï¼‰
3. éªŒè¯å•†å“é¡µå¯è®¿é—®æ€§

---

#### **æ­¥éª¤2ï¼šç¼–å†™åŸºç¡€çˆ¬è™«**
**ç›®æ ‡**ï¼šæ¯æ—¥è·å–æœ€æ–°ä»·æ ¼  
**ä»£ç æ¡†æ¶**ï¼š
```python
def monitor_jd_price(sku_id):
    url = f'https://item.jd.com/{sku_id}.html'
    try:
        session = HTMLSession()
        resp = session.get(url, headers=headers)
        resp.html.render(sleep=2)
        
        # äº¬ä¸œä»·æ ¼å…ƒç´ å®šä½
        price_element = resp.html.find('span.price', first=True)
        price = float(price_element.text.replace('ï¿¥', ''))
        
        save_to_db(sku_id, price)
        return price
    except Exception as e:
        log_error(f"ç›‘æ§å¤±è´¥ï¼š{str(e)}")
        return None
```

---

#### **æ­¥éª¤3ï¼šæ•°æ®å­˜å‚¨è®¾è®¡**
**ç›®æ ‡**ï¼šè®°å½•å†å²ä»·æ ¼è¶‹åŠ¿  
**è¡¨ç»“æ„ä¼˜åŒ–**ï¼š
```sql
CREATE TABLE jd_price_history (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    sku_id TEXT NOT NULL,
    price REAL NOT NULL,
    timestamp DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (sku_id) REFERENCES jd_products(sku_id)
);
```

---

#### **æ­¥éª¤4ï¼šå¼‚å¸¸ä»·æ ¼æ£€æµ‹**
**ç›®æ ‡**ï¼šå®ç°æ³¢åŠ¨æŠ¥è­¦  
**ç®—æ³•å®ç°**ï¼š
```python
def check_abnormal(sku_id, window=7):
    # è·å–æœ€è¿‘7å¤©ä»·æ ¼
    prices = get_history_prices(sku_id, days=window)
    
    # è®¡ç®—ç§»åŠ¨å¹³å‡
    avg = sum(prices) / len(prices)
    
    # äº¬ä¸œä»·æ ¼æ³¢åŠ¨é˜ˆå€¼ï¼ˆé€šå¸¸<5%ï¼‰
    if abs(prices[-1] - avg) / avg > 0.05:
        send_alert_email(sku_id, prices[-1], avg)
```

---

### **ğŸ“Œ ä¸ºä»€ä¹ˆé€‰æ‹©äº¬ä¸œï¼Ÿ**
1. **æŠ€æœ¯å…¸å‹æ€§**ï¼šäº¬ä¸œé¡µé¢åŒ…å«ï¼š
   - åŠ¨æ€æ¸²æŸ“ä»·æ ¼ï¼ˆéƒ¨åˆ†å•†å“éœ€è¦JSåŠ è½½ï¼‰
   - åçˆ¬æœºåˆ¶ï¼ˆé¢‘ç¹è®¿é—®ä¼šè§¦å‘éªŒè¯ï¼‰
   - ç»“æ„åŒ–æ•°æ®ï¼ˆä»·æ ¼/ä¿ƒé”€ä¿¡æ¯æ˜ç¡®ï¼‰

2. **å•†ä¸šä»·å€¼**ï¼š
   - 3Cäº§å“ä»·æ ¼æ³¢åŠ¨é¢‘ç¹ï¼ˆæ‰‹æœº/ç”µè„‘ç­‰ï¼‰
   - ä¿ƒé”€æ´»åŠ¨å¤šæ ·ï¼ˆç§’æ€/PLUSä¼šå‘˜ä»·ç­‰ï¼‰
   - æ¯”ä»·éœ€æ±‚æ—ºç››

3. **æ³•å¾‹åˆè§„**ï¼š
   - äº¬ä¸œrobots.txtå…è®¸å•†å“é¡µæŠ“å–
   - å•å•†å“åˆç†è®¿é—®é¢‘ç‡ï¼ˆ>30ç§’/æ¬¡ï¼‰

---

**å­¦ä¹ æ£€éªŒæ ‡å‡†**ï¼š  
å®Œæˆå­¦ä¹ åï¼Œåº”è¯¥èƒ½ç‹¬ç«‹å®ç°ï¼š  
1. æ¯å°æ—¶æŠ“å–æŒ‡å®šäº¬ä¸œå•†å“ä»·æ ¼  
2. å­˜å‚¨è‡³å°‘7å¤©çš„å†å²æ•°æ®  
3. å½“æ—¥ä»·æ ¼æ³¢åŠ¨è¶…è¿‡5%æ—¶å‘é€é‚®ä»¶æé†’  

å»ºè®®ä½¿ç”¨çœŸå®å•†å“æµ‹è¯•ï¼ˆå¦‚ï¼šiPhone15 SKU:10012345ï¼‰ï¼Œä½†éœ€æ³¨æ„æ§åˆ¶è¯·æ±‚é¢‘ç‡ï¼ˆæ¯å°æ—¶ä¸è¶…è¿‡30æ¬¡ï¼‰ä»¥é¿å…è¢«å°ç¦ã€‚









