# 1.ç™»å½•ã€è®¤è¯

## 1.åŸºç¡€è¦æ±‚

é¦–å…ˆå¼€å‘å¯ä»¥æ­£å¸¸ç™»å½•å’Œé€šè¿‡æ»‘åŠ¨éªŒè¯çš„æ¨¡å—

ä½¿ç”¨ç›¸å…³æŠ€æœ¯

1. ddddocr
2. selenium (4æœˆ17æ—¥å·²å¼ƒç”¨)/  playwright
3. XPATHè¯­æ³•
4. request-html





é¦–å…ˆæ˜¯ä½¿ç”¨seleniumå®Œæˆç™»å½•ï¼ˆå¦‚æœæœ‰éªŒè¯åˆ™å®ŒæˆéªŒè¯ï¼‰



ç„¶åè·å–å‡­è¯ï¼Œç»´æŒç™»å½•çŠ¶æ€



ä½¿ç”¨å‡­è¯è¿›è¡Œå…ç™»å½•å¸¸è¯†ï¼Œæ­¤æ—¶ä½¿ç”¨requests-html





2025å¹´4æœˆ17æ—¥ï¼Œè€ƒè™‘åˆ°seleniumåœ¨é—®é¢˜aå’Œé—®é¢˜bä¸Šéƒ½è¡¨ç°ä¸ä½³ï¼Œæ”¹ç”¨playwrightè¿›è¡Œæµè§ˆå™¨è‡ªåŠ¨åŒ–









## 2.é—®é¢˜è§£å†³

### a.é¢‘ç¹çš„æ»‘åŠ¨è®¤è¯

å¯ä»¥ä½¿ç”¨undetected-chromedriveræ¨¡å—

> **â€œæˆ‘ç”¨æµè§ˆå™¨è‡ªå·±ç™»éƒ½æ²¡äº‹ï¼Œä½†ä¸€ç”¨ Selenium è‡ªåŠ¨åŒ–ï¼Œç™»å½•å°±å¼ºåˆ¶å‡ºæ»‘å—éªŒè¯â€**ã€‚
>
> è¿™æ˜¯**ç½‘ç«™è¯†åˆ«ä½ æ˜¯â€œæœºå™¨äººâ€è‡ªåŠ¨åŒ–æ“ä½œçš„ç­–ç•¥**ï¼Œä¸æ˜¯è´¦å·ã€å¯†ç é—®é¢˜ï¼Œè€Œæ˜¯**æ£€æµ‹åˆ°ä½ ç”¨çš„æ˜¯ Selenium + ChromeDriver è¿™ç±»è‡ªåŠ¨æ§åˆ¶å·¥å…·**ï¼Œäºæ˜¯å®ƒå°±ï¼š
>
> > **å¼ºåˆ¶è¦æ±‚æ»‘å—éªŒè¯ï¼Œé˜²æ­¢è„šæœ¬åˆ·å·ã€åˆ·ç¥¨ã€åˆ·èµ„æºç­‰è¡Œä¸ºã€‚**
>
> ------
>
> ## ğŸ” ä¸ºå•¥ç½‘ç«™èƒ½è¯†åˆ«ä½ ç”¨çš„æ˜¯ Seleniumï¼Ÿ
>
> å› ä¸º Seleniumï¼ˆå°¤å…¶æ˜¯é»˜è®¤é…ç½®ï¼‰**æš´éœ²äº†å¾ˆå¤šâ€œè‡ªåŠ¨åŒ–ç‰¹å¾â€**ï¼Œæ¯”å¦‚ï¼š
>
> ### ğŸ’£ å¸¸è§ç‰¹å¾åŒ…æ‹¬ï¼š
>
> | ç‰¹å¾ç‚¹                           | æè¿°                                            |
> | -------------------------------- | ----------------------------------------------- |
> | `navigator.webdriver`            | Selenium é»˜è®¤æ˜¯ `true`ï¼Œè¯´æ˜æ˜¯è¢« WebDriver æ§åˆ¶ |
> | `window.chrome` ç¼ºå¤±ä¸€äº›åŸç”Ÿå±æ€§ | æ¯”å¦‚æ’ä»¶å±æ€§ã€è¯­è¨€è®¾ç½®ã€æŒ‡çº¹ä¿¡æ¯å¼‚å¸¸            |
> | ç”¨æˆ·ä»£ç†ï¼ˆUser-Agentï¼‰å’Œè¡Œä¸ºæ¨¡å¼ | å’ŒçœŸå®ç”¨æˆ·è¡Œä¸ºä¸ä¸€è‡´                            |
> | é¡µé¢åŠ è½½é¡ºåºã€é¼ æ ‡ç§»åŠ¨è½¨è¿¹ç­‰     | æ¯”å¦‚åŠ è½½é¡µé¢ç§’ç‚¹ï¼Œé¼ æ ‡ä¸åŠ¨ç›´æ¥ç‚¹å‡»              |
> | è¯·æ±‚å¤´ã€Canvas æŒ‡çº¹ã€WebGL       | å’ŒçœŸå®æµè§ˆå™¨ç•¥æœ‰ä¸åŒï¼Œå®¹æ˜“è¯†åˆ«                  |
> | Selenium æ³¨å…¥çš„ JS Hook          | é¡µé¢å¯ä»¥é€šè¿‡ JS æ£€æµ‹ä½ ç”¨äº† WebDriver            |
>
> ------
>
> ## âœ… ä¸ºä»€ä¹ˆä½ æ‰‹åŠ¨ç™»å½•å°±ä¸ä¼šè§¦å‘æ»‘åŠ¨éªŒè¯ï¼Ÿ
>
> å› ä¸ºä½ æ‰‹åŠ¨æ“ä½œæ—¶ï¼Œ**è¡Œä¸ºè‡ªç„¶ã€äººç±»ç‰¹å¾æ˜æ˜¾ï¼Œæµè§ˆå™¨åŸæ±åŸå‘³**ï¼Œè¿™äº›æ£€æµ‹æœºåˆ¶å°±ä¸ä¼šè§¦å‘ï¼Œæ‰€ä»¥æ»‘å—éªŒè¯ä¹Ÿä¸ä¼šå‡ºæ¥ã€‚
>
> ------
>
> ## ğŸ”§ é‚£æ€ä¹ˆåŠï¼Ÿæœ‰æ²¡æœ‰åŠæ³•â€œéª—è¿‡â€æ£€æµ‹ï¼Ÿ
>
> ### æœ‰ï¼å‡ ä¸ªå¸¸ç”¨æ–¹æ³•ï¼š
>
> ------
>
> ### âœ… æ–¹æ³• 1ï¼šç”¨â€œåæ£€æµ‹â€çš„ ChromeDriverï¼ˆå¦‚ undetected-chromedriverï¼‰
>
> ```bash
> pip install undetected-chromedriver
> ```
>
> æ”¹å†™ä½ åŸæ¥çš„æµè§ˆå™¨åˆ›å»ºæ–¹å¼ï¼š
>
> ```python
> import undetected_chromedriver as uc
> 
> driver = uc.Chrome()
> ```
>
> å®ƒä¼šè‡ªåŠ¨åšè¿™äº›äº‹ï¼š
>
> - ä¿®æ”¹ `navigator.webdriver = false`
> - åŠ å…¥çœŸå®æµè§ˆå™¨çš„ç‰¹å¾ï¼ˆæ’ä»¶ã€æŒ‡çº¹ï¼‰
> - è‡ªåŠ¨è§„é¿å¤§éƒ¨åˆ†åçˆ¬æœºåˆ¶
> - ä¿æŒä½ å†™çš„ Selenium è„šæœ¬ä¸å˜
>
> å‡ ä¹æ˜¯æœ€ç®€å•ç›´æ¥çš„æ–¹å¼ âœ…
>
> ------
>
> ### âœ… æ–¹æ³• 2ï¼šç”¨ puppeteer æˆ– Playwright + stealthï¼ˆNode.jsï¼‰
>
> é€‚åˆé«˜çº§ç©å®¶ï¼Œå®ƒä»¬åœ¨æ¨¡æ‹ŸçœŸå®ç”¨æˆ·æ–¹é¢æ›´å¼ºï¼Œæ¯”å¦‚ï¼š
>
> - è‡ªåŠ¨å¸¦è¾“å…¥å»¶è¿Ÿã€é¼ æ ‡è½¨è¿¹
> - æ¨¡æ‹ŸçœŸå®ç½‘ç»œæ¡ä»¶
> - è§„é¿å„ç§æ£€æµ‹ç‰¹å¾
>
> å¦‚æœä½ ä¸»è¦ç”¨ Pythonï¼Œé‚£ç”¨ `playwright-python` ä¹Ÿè¡Œï¼Œä½†ä¸Šæ‰‹å¤æ‚ä¸€ç‚¹ã€‚
>
> ------
>
> ### âœ… æ–¹æ³• 3ï¼šè‡ªå·±æ‰‹åŠ¨ç»•å¼€ç‰¹å¾ï¼ˆæ¯”è¾ƒéº»çƒ¦ï¼‰
>
> æ¯”å¦‚ï¼š
>
> - æ‰‹åŠ¨æ³¨å…¥ JS æ”¹ `navigator.webdriver`
> - ä¿®æ”¹ DevTools è®¾ç½®
> - æ¨¡æ‹Ÿäººç±»è¡Œä¸ºï¼šè¾“å…¥èŠ‚å¥ + é¼ æ ‡éšæœºæ»‘åŠ¨ + æ»‘åŠ¨è½¨è¿¹ + é¡µé¢ç­‰å¾…
> - ä½¿ç”¨ä»£ç† IP + ä¿®æ”¹è¯·æ±‚å¤´ç­‰
>
> è¿™éœ€è¦ä½ å¯¹åçˆ¬æœºåˆ¶æœ‰æ¯”è¾ƒæ·±å…¥çš„äº†è§£ï¼Œä¸æ¨èä¸€å¼€å§‹å°±è¿™ä¹ˆæã€‚
>
> ------
>
> ## âœ… æœ€æ¨èä½ åšçš„æ˜¯ï¼š
>
> æŠŠä½ å½“å‰çš„è¿™æ®µä»£ç æ”¹æˆç”¨ `undetected-chromedriver`ï¼ŒåŸºæœ¬å°±èƒ½è§£å†³å¼ºåˆ¶å¼¹æ»‘å—éªŒè¯çš„é—®é¢˜ï¼
>
> ------
>
> ## ğŸ§© ä½ æ¥ä¸‹æ¥å¯ä»¥è¿™æ ·åšï¼š
>
> ### ä¿®æ”¹ä¸€è¡Œä»£ç ï¼š
>
> ```python
> from selenium import webdriver
> from selenium.webdriver.common.by import By
> import undetected_chromedriver as uc
> 
> driver = uc.Chrome()
> ```
>
> ç„¶åç»§ç»­æ‰§è¡Œä½ çš„ `driver.get(...)`ã€`find_element()`ã€`send_keys()`ã€`click()` ç­‰éƒ½ä¸ç”¨å˜ï¼
>
> å¤§æ¦‚ç‡ç™»å½•å°±ä¸ä¼šè§¦å‘æ»‘å—éªŒè¯äº†ã€‚å¦‚æœè¿˜è§¦å‘ï¼Œä¹Ÿå¯ä»¥ç”¨ä½ ä¹‹å‰çš„ `ddddocr` + æ¨¡æ‹Ÿæ»‘åŠ¨ã€‚
>
> 

é€šè¿‡æµ‹è¯•ï¼Œä»…ä»…ä½¿ç”¨

```python
import undetected_chromedriver as uc

driver = uc.Chrome()
```

ä»æ—§è¿˜æ˜¯éå¸¸å®¹æ˜“è§¦å‘æ»‘å—éªŒè¯ï¼Œéœ€è¦æ›´å¤šä¼ªè£…







ä¸‹é¢æ˜¯æ”¹ç”¨playwright

















### b.æ»‘åŠ¨æ»‘å—çš„äººç±»è¡Œä¸ºæ¨¡æ‹Ÿ

ç›´æ¥æ»‘åŠ¨ä¸å¤ªé€‚åˆï¼Œéœ€è¦è¿›è¡Œäººç±»æ¨¡æ‹Ÿ



ç›´æ¥æ»‘åŠ¨

```python
ActionChains(driver).click_and_hold(slide_btn).perform()  # ç‚¹å‡»å¹¶æŠ“ä½æ ‡ç­¾
ActionChains(driver).move_by_offset(xoffset=x1, yoffset=0).perform()  # å‘å³
ActionChains(driver).release().perform()
```

æ¨¡æ‹Ÿäººæ»‘åŠ¨ï¼ˆæ— æ³•é€šè¿‡ï¼‰

```python
def generate_slide_track(distance):
    """ç”Ÿæˆæ¨¡æ‹Ÿæ»‘åŠ¨è½¨è¿¹ï¼Œè¿”å›æ¯ä¸€å°æ­¥çš„ x ä½ç§»"""
    track = []
    current = 0
    mid = distance * 4 / 5  # å‡é€Ÿç‚¹
    t = 0.2
    v = 0

    while current < distance:
        if current < mid:
            a = random.uniform(2, 3)  # åŠ é€Ÿåº¦
        else:
            a = -random.uniform(3, 4)

        v0 = v
        v = v0 + a * t
        move = v0 * t + 0.5 * a * (t ** 2)
        move = round(move)
        current += move
        track.append(move)

    # è¡¥å›ä¸€ç‚¹è¯¯å·®
    if current > distance:
        track.append(distance - sum(track))

    return track


def move_slide(driver):
    x1, y1, x2, y2 = get_position(driver)

    slide_btn = driver.find_element(
        By.XPATH,
        '//*[@id="JDJRV-wrap-loginsubmit"]/div/div/div/div[2]/div[3]'
    )

    ActionChains(driver).click_and_hold(slide_btn).perform()

    track = generate_slide_track(x1-6)

    for x in track:
        ActionChains(driver).move_by_offset(xoffset=x, yoffset=0).perform()
        time.sleep(0.0005)
    time.sleep(5)
    ActionChains(driver).release().perform()
```

ç½‘ä¸ŠæŸ¥è¯¢ç›¸å…³å›ç­”

> è¿™ä¸€æ­¥ç¡®å®æŒºéš¾æçš„ï¼Œå› ä¸ºäº¬ä¸œæœ‰äººå·¥æ™ºèƒ½è¯†åˆ«çš„åŸå› ï¼Œç”¨seleniumæ»‘åŠ¨å°±ä¼šå› ä¸ºé¼ æ ‡å…‰æ ‡ä¸åŠ¨ç­‰ä¸€ç³»åˆ—çš„åŸå› ï¼Œå°±ç®—ç¼ºå£æ»‘åŠ¨çš„æ­£ç¡®äº†ä¼šä¸é€šè¿‡ï¼Œè¿™é‡ŒæŸ¥äº†å¾ˆä¹…æœ€åé‡‡ç”¨äº†å‰è¾ˆç”¨[pyautogui](https://so.csdn.net/so/search?q=pyautogui&spm=1001.2101.3001.7020)åº“å†™çš„ä¸€ä¸ªç®—æ³•æ‰è§£å†³

æˆªè‡³2025å¹´ï¼Œæˆ‘æ‰ç”¨äº†å¤šä¸ªæ»‘åŠ¨è½¨è¿¹ï¼Œå³ä½¿å®Œç¾è´´åˆä¹Ÿä¸èƒ½é€šè¿‡ï¼Œå› æ­¤é‡‡ç”¨å…¶ä»–æ–¹æ³•

è€ƒè™‘ä½¿ç”¨playwrightæ¡†æ¶è¿›è¡Œwebè‡ªåŠ¨åŒ–

ä¸‹é¢æ˜¯æ”¹ç”¨playwright